# Proposal: GitHub Release Deb Packages

## Background
We now have a reproducible `build/package-deb.sh` helper that emits `.deb` artifacts for Debian/Ubuntu, but maintainers still run it manually and upload results by hand. Release automation is needed so every semver tag produces signed GitHub Releases that contain ready-to-install packages without extra effort.

## Goals
- Introduce a GitHub Actions workflow triggered by tags matching `v<MAJOR>.<MINOR>.<PATCH>`.
- Reuse the existing packaging script to build Debian and Ubuntu `.deb` files on GitHub-hosted runners.
- Publish a GitHub Release (creating it when missing) and upload both Debian and Ubuntu artifacts with descriptive names.
- Document the release flow so maintainers know how to cut a tagged release and verify uploaded assets.

## Non-Goals
- Building other packaging formats (RPM, snap, etc.).
- Publishing to package registries outside GitHub Releases.
- Automated changelog generation (manual release notes remain a maintainer responsibility).

## High-Level Plan
1. Add a workflow (e.g., `.github/workflows/release-deb.yml`) that listens for pushed tags matching `v*.*.*`, sets up the toolchain, installs `debhelper`/`dpkg-dev`, runs the packaging script for both `debian` and `ubuntu`, and captures the resulting files in `dist/`.
2. Use `actions/upload-release-asset` (or `gh release upload`) with a GitHub token to attach the artifacts to the `vX.Y.Z` release, creating the release with autogenerated notes if it does not exist.
3. Update documentation/README to outline the tagging process, required version semantics, and where the resulting `.deb` files live.
4. Validate via OpenSpec tooling plus dry-run instructions for maintainers.

## Impact
- Maintainers can cut a release merely by tagging `vX.Y.Z`, eliminating manual packaging steps.
- Consumers consistently receive Debian/Ubuntu `.deb` files directly from GitHub Releases, improving trust and reproducibility.
- Actions logs provide traceability for how each artifact was built.

## Open Questions
- Whether we need to support architectures beyond `amd64` in the initial workflow (out-of-scope unless requested).
- Should we also upload checksum files (sha256)? If needed, follow-up change can add it.
